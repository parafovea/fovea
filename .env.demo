# Demo Deployment Environment Configuration
# Example: demo.fovea.video running on t3.xlarge CPU-only instance
# Copy this file to .env and update values for your demo deployment

# Database Configuration
POSTGRES_USER=fovea
POSTGRES_PASSWORD=CHANGE_ME_SECURE_PASSWORD
POSTGRES_DB=fovea
DATABASE_URL=postgresql://fovea:CHANGE_ME_SECURE_PASSWORD@postgres:5432/fovea

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379

# Backend Configuration
NODE_ENV=production
MODEL_SERVICE_URL=http://model-service:8000
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4318

# Authentication Configuration
FOVEA_MODE=multi-user
ALLOW_REGISTRATION=true
SESSION_SECRET=CHANGE_ME_LONG_RANDOM_STRING
SESSION_TIMEOUT_DAYS=7
ADMIN_PASSWORD=CHANGE_ME_SECURE_PASSWORD
API_KEY_ENCRYPTION_KEY=CHANGE_ME_64_HEX_CHARS

# Frontend Configuration (build-time variables)
VITE_API_URL=https://demo.fovea.video/api
VITE_MODEL_SERVICE_URL=https://demo.fovea.video/model-api

# Model Service Configuration
TRANSFORMERS_CACHE=/models
MODEL_CONFIG_PATH=/config/models.yaml
# CPU-only deployment - no CUDA variables needed
# CUDA_VISIBLE_DEVICES=
# PYTORCH_CUDA_ALLOC_CONF=

# Grafana Configuration
GF_SECURITY_ADMIN_PASSWORD=CHANGE_ME_SECURE_PASSWORD
GF_USERS_ALLOW_SIGN_UP=false

# Video Storage Configuration - LOCAL STORAGE
# For demo deployment with local file storage
VIDEO_STORAGE_TYPE=local
STORAGE_PATH=/videos
VIDEO_BASE_URL=/api/videos

# S3 Configuration - Disabled for local-only demo
# Uncomment and configure if you want to add S3 storage to your demo
# S3_BUCKET=fovea-demo-videos
# S3_REGION=us-east-1
# S3_ACCESS_KEY_ID=
# S3_SECRET_ACCESS_KEY=
# S3_ENDPOINT=
# S3_PUBLIC_BUCKET=false

# CDN Configuration - Disabled for demo
# Enable if you want to add CDN support
# CDN_ENABLED=false
# CDN_BASE_URL=
# CDN_SIGNED_URLS=true

# Thumbnail Storage Configuration
THUMBNAIL_STORAGE_TYPE=local
THUMBNAIL_PATH=/videos/thumbnails
# THUMBNAIL_S3_PREFIX=thumbnails/

# Port Configuration (host ports)
FRONTEND_PORT=3000
BACKEND_PORT=3001
MODEL_SERVICE_PORT=8000
POSTGRES_PORT=5432
REDIS_PORT=6379
PROMETHEUS_PORT=9090
GRAFANA_PORT=3002
OTEL_GRPC_PORT=4317
OTEL_HTTP_PORT=4318

# Build Mode
# Use 'minimal' for CPU-only deployments to reduce build time and image size
MODEL_BUILD_MODE=minimal
